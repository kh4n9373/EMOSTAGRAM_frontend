{"ast":null,"code":"var _jsxFileName = \"/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Avatar = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    width: 64,\n    height: 64,\n    borderRadius: 12,\n    background: '#eee',\n    display: 'grid',\n    placeItems: 'center'\n  },\n  children: /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      fontWeight: 700\n    },\n    children: \"E\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 3\n}, this);\n_c = Avatar;\nconst MessageBubble = ({\n  role,\n  children,\n  media\n}) => {\n  const isUser = role === 'user';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: isUser ? 'flex-end' : 'flex-start'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 760,\n        background: isUser ? '#2563EB' : '#111827',\n        color: 'white',\n        padding: 12,\n        borderRadius: 16,\n        borderTopRightRadius: isUser ? 4 : 16,\n        borderTopLeftRadius: isUser ? 16 : 4\n      },\n      children: [media && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: media,\n        alt: \"attachment\",\n        style: {\n          width: 220,\n          borderRadius: 12,\n          marginBottom: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), !isUser && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 8,\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          \"aria-label\": \"like\",\n          style: {\n            background: 'transparent',\n            border: '1px solid #334155',\n            color: '#cbd5e1',\n            padding: '4px 8px',\n            borderRadius: 8\n          },\n          children: \"\\uD83D\\uDC4D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"aria-label\": \"unlike\",\n          style: {\n            background: 'transparent',\n            border: '1px solid #334155',\n            color: '#cbd5e1',\n            padding: '4px 8px',\n            borderRadius: 8\n          },\n          children: \"\\uD83D\\uDC4E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n_c2 = MessageBubble;\nconst ChatPage = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState('');\n  const [mediaPreview, setMediaPreview] = useState(null);\n  const [mediaFile, setMediaFile] = useState(null);\n  const [recording, setRecording] = useState(false);\n  const listRef = useRef(null);\n  useEffect(() => {\n    var _listRef$current;\n    (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.scrollTo({\n      top: listRef.current.scrollHeight,\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const sendMessage = async () => {\n    if (!text && !mediaPreview) return;\n    const userMsg = {\n      id: Date.now(),\n      role: 'user',\n      text,\n      media: mediaPreview\n    };\n    setMessages(m => m.concat(userMsg));\n    setText('');\n    setMediaPreview(null);\n    setMediaFile(null);\n    // Call backend (mock using analysis sentiment for now)\n    try {\n      var _j$data;\n      const res = await fetch('/api/v1/analysis/analyze-sentiment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          text: userMsg.text || '[media]'\n        })\n      });\n      const j = await res.json();\n      const reply = j !== null && j !== void 0 && (_j$data = j.data) !== null && _j$data !== void 0 && _j$data.label ? `Sentiment: ${j.data.label}` : 'Okay!';\n      setMessages(m => m.concat({\n        id: Date.now() + 1,\n        role: 'assistant',\n        text: reply\n      }));\n    } catch {\n      setMessages(m => m.concat({\n        id: Date.now() + 1,\n        role: 'assistant',\n        text: 'Sorry, something went wrong.'\n      }));\n    }\n  };\n\n  // Audio recording → transcribe (use Web Speech API if available)\n  const startVoice = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      alert('Voice input not supported in this browser');\n      return;\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    const rec = new SR();\n    rec.lang = 'vi-VN';\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    setRecording(true);\n    rec.onresult = e => {\n      const t = e.results[0][0].transcript;\n      setText(prev => prev ? prev + ' ' + t : t);\n    };\n    rec.onend = () => setRecording(false);\n    rec.onerror = () => setRecording(false);\n    rec.start();\n  };\n  const onPickMedia = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!f) return;\n    const url = URL.createObjectURL(f);\n    setMediaPreview(url);\n    setMediaFile(f);\n  };\n  const showHero = messages.length === 0;\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    style: {\n      minHeight: '100vh',\n      background: '#0b0e11',\n      color: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 980,\n        margin: '0 auto',\n        padding: '32px 16px',\n        display: 'grid',\n        gap: 24\n      },\n      children: [showHero && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          placeItems: 'center',\n          paddingTop: 60,\n          paddingBottom: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            marginTop: 16\n          },\n          children: \"Grok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: listRef,\n        style: {\n          display: 'grid',\n          gap: 12,\n          minHeight: 200,\n          maxHeight: '60vh',\n          overflowY: 'auto',\n          padding: '0 8px'\n        },\n        children: messages.map(m => /*#__PURE__*/_jsxDEV(MessageBubble, {\n          role: m.role,\n          media: m.media,\n          children: m.text\n        }, m.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'sticky',\n          bottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n            background: '#111827',\n            border: '1px solid #1f2937',\n            borderRadius: 16,\n            padding: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              cursor: 'pointer',\n              padding: 8\n            },\n            children: [\"\\uD83D\\uDCCE\", /*#__PURE__*/_jsxDEV(\"input\", {\n              accept: \"*/*\",\n              type: \"file\",\n              style: {\n                display: 'none'\n              },\n              onChange: onPickMedia\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: text,\n            onChange: e => setText(e.target.value),\n            placeholder: \"What do you want to know?\",\n            style: {\n              flex: 1,\n              background: 'transparent',\n              color: 'white',\n              border: 'none',\n              outline: 'none',\n              padding: '10px 8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startVoice,\n            \"aria-label\": \"voice\",\n            style: {\n              background: '#0ea5e9',\n              border: 'none',\n              color: 'white',\n              padding: '10px 12px',\n              borderRadius: 12\n            },\n            children: recording ? '🎙️...' : '🎙️'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: sendMessage,\n            \"aria-label\": \"send\",\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), mediaPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: mediaPreview,\n            alt: \"preview\",\n            style: {\n              width: 180,\n              borderRadius: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"sQUkZ3u6LMzc4O7GzNe6YeNlx7Y=\");\n_c3 = ChatPage;\nexport default ChatPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Avatar\");\n$RefreshReg$(_c2, \"MessageBubble\");\n$RefreshReg$(_c3, \"ChatPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Helmet","jsxDEV","_jsxDEV","Avatar","style","width","height","borderRadius","background","display","placeItems","children","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","_c","MessageBubble","role","media","isUser","justifyContent","maxWidth","color","padding","borderTopRightRadius","borderTopLeftRadius","src","alt","marginBottom","marginTop","gap","border","_c2","ChatPage","_s","messages","setMessages","text","setText","mediaPreview","setMediaPreview","mediaFile","setMediaFile","recording","setRecording","listRef","_listRef$current","current","scrollTo","top","scrollHeight","behavior","sendMessage","userMsg","id","Date","now","m","concat","_j$data","res","fetch","method","headers","credentials","body","JSON","stringify","j","json","reply","data","label","startVoice","window","alert","SR","SpeechRecognition","webkitSpeechRecognition","rec","lang","interimResults","maxAlternatives","onresult","e","t","results","transcript","prev","onend","onerror","start","onPickMedia","_e$target$files","f","target","files","url","URL","createObjectURL","showHero","length","minHeight","margin","paddingTop","paddingBottom","ref","maxHeight","overflowY","map","position","bottom","alignItems","cursor","accept","type","onChange","value","placeholder","flex","outline","onClick","_c3","$RefreshReg$"],"sources":["/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-chat.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { Helmet } from 'react-helmet'\n\nconst Avatar = () => (\n  <div style={{ width: 64, height: 64, borderRadius: 12, background: '#eee', display: 'grid', placeItems: 'center' }}>\n    <span style={{ fontWeight: 700 }}>E</span>\n  </div>\n)\n\nconst MessageBubble = ({ role, children, media }) => {\n  const isUser = role === 'user'\n  return (\n    <div style={{ display: 'flex', justifyContent: isUser ? 'flex-end' : 'flex-start' }}>\n      <div style={{\n        maxWidth: 760,\n        background: isUser ? '#2563EB' : '#111827',\n        color: 'white',\n        padding: 12,\n        borderRadius: 16,\n        borderTopRightRadius: isUser ? 4 : 16,\n        borderTopLeftRadius: isUser ? 16 : 4,\n      }}>\n        {media && (\n          <img src={media} alt=\"attachment\" style={{ width: 220, borderRadius: 12, marginBottom: 8 }} />\n        )}\n        <div>{children}</div>\n        {!isUser && (\n          <div style={{ marginTop: 8, display: 'flex', gap: 8 }}>\n            <button aria-label=\"like\" style={{ background: 'transparent', border: '1px solid #334155', color: '#cbd5e1', padding: '4px 8px', borderRadius: 8 }}>👍</button>\n            <button aria-label=\"unlike\" style={{ background: 'transparent', border: '1px solid #334155', color: '#cbd5e1', padding: '4px 8px', borderRadius: 8 }}>👎</button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst ChatPage = () => {\n  const [messages, setMessages] = useState([])\n  const [text, setText] = useState('')\n  const [mediaPreview, setMediaPreview] = useState(null)\n  const [mediaFile, setMediaFile] = useState(null)\n  const [recording, setRecording] = useState(false)\n  const listRef = useRef(null)\n\n  useEffect(() => {\n    listRef.current?.scrollTo({ top: listRef.current.scrollHeight, behavior: 'smooth' })\n  }, [messages])\n\n  const sendMessage = async () => {\n    if (!text && !mediaPreview) return\n    const userMsg = { id: Date.now(), role: 'user', text, media: mediaPreview }\n    setMessages((m) => m.concat(userMsg))\n    setText('')\n    setMediaPreview(null)\n    setMediaFile(null)\n    // Call backend (mock using analysis sentiment for now)\n    try {\n      const res = await fetch('/api/v1/analysis/analyze-sentiment', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ text: userMsg.text || '[media]' }),\n      })\n      const j = await res.json()\n      const reply = j?.data?.label ? `Sentiment: ${j.data.label}` : 'Okay!'\n      setMessages((m) => m.concat({ id: Date.now() + 1, role: 'assistant', text: reply }))\n    } catch {\n      setMessages((m) => m.concat({ id: Date.now() + 1, role: 'assistant', text: 'Sorry, something went wrong.' }))\n    }\n  }\n\n  // Audio recording → transcribe (use Web Speech API if available)\n  const startVoice = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      alert('Voice input not supported in this browser')\n      return\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition\n    const rec = new SR()\n    rec.lang = 'vi-VN'\n    rec.interimResults = false\n    rec.maxAlternatives = 1\n    setRecording(true)\n    rec.onresult = (e) => {\n      const t = e.results[0][0].transcript\n      setText((prev) => (prev ? prev + ' ' + t : t))\n    }\n    rec.onend = () => setRecording(false)\n    rec.onerror = () => setRecording(false)\n    rec.start()\n  }\n\n  const onPickMedia = (e) => {\n    const f = e.target.files?.[0]\n    if (!f) return\n    const url = URL.createObjectURL(f)\n    setMediaPreview(url)\n    setMediaFile(f)\n  }\n\n  const showHero = messages.length === 0\n\n  return (\n    <main style={{ minHeight: '100vh', background: '#0b0e11', color: 'white' }}>\n      <Helmet><title>Chat</title></Helmet>\n      <div style={{ maxWidth: 980, margin: '0 auto', padding: '32px 16px', display: 'grid', gap: 24 }}>\n        {showHero && (\n          <div style={{ display: 'grid', placeItems: 'center', paddingTop: 60, paddingBottom: 24 }}>\n            <Avatar />\n            <h1 style={{ marginTop: 16 }}>Grok</h1>\n          </div>\n        )}\n\n        <div ref={listRef} style={{ display: 'grid', gap: 12, minHeight: 200, maxHeight: '60vh', overflowY: 'auto', padding: '0 8px' }}>\n          {messages.map((m) => (\n            <MessageBubble key={m.id} role={m.role} media={m.media}>{m.text}</MessageBubble>\n          ))}\n        </div>\n\n        <div style={{ position: 'sticky', bottom: 16 }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 8, background: '#111827', border: '1px solid #1f2937', borderRadius: 16, padding: 8 }}>\n            <label style={{ cursor: 'pointer', padding: 8 }}>\n              📎\n              <input accept=\"*/*\" type=\"file\" style={{ display: 'none' }} onChange={onPickMedia} />\n            </label>\n            <input\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n              placeholder=\"What do you want to know?\"\n              style={{ flex: 1, background: 'transparent', color: 'white', border: 'none', outline: 'none', padding: '10px 8px' }}\n            />\n            <button onClick={startVoice} aria-label=\"voice\" style={{ background: '#0ea5e9', border: 'none', color: 'white', padding: '10px 12px', borderRadius: 12 }}>{recording ? '🎙️...' : '🎙️'}</button>\n            <button onClick={sendMessage} aria-label=\"send\" style={{ display: 'none' }} />\n          </div>\n          {mediaPreview && (\n            <div style={{ marginTop: 8 }}>\n              <img src={mediaPreview} alt=\"preview\" style={{ width: 180, borderRadius: 12 }} />\n            </div>\n          )}\n        </div>\n      </div>\n    </main>\n  )\n}\n\nexport default ChatPage\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}