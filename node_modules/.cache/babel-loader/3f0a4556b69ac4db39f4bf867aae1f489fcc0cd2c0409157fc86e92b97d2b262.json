{"ast":null,"code":"var _jsxFileName = \"/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Avatar = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    width: 64,\n    height: 64,\n    borderRadius: 12,\n    background: '#e5e7eb',\n    display: 'grid',\n    placeItems: 'center'\n  },\n  children: /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      fontWeight: 700\n    },\n    children: \"E\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 3\n}, this);\n_c = Avatar;\nconst MessageBubble = ({\n  role,\n  children,\n  media\n}) => {\n  const isUser = role === 'user';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      justifyItems: isUser ? 'end' : 'start'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 720,\n        background: isUser ? '#2563EB' : '#ffffff',\n        color: isUser ? 'white' : '#111827',\n        border: isUser ? 'none' : '1px solid #e5e7eb',\n        padding: media ? 8 : 12,\n        borderRadius: 16,\n        boxShadow: isUser ? '0 4px 14px rgba(37,99,235,0.15)' : '0 4px 14px rgba(0,0,0,0.06)',\n        display: 'inline-block',\n        width: 'fit-content',\n        lineHeight: 1.6\n      },\n      children: media ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: media,\n        alt: \"attachment\",\n        style: {\n          width: 260,\n          borderRadius: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: 'pre-wrap'\n        },\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n_c2 = MessageBubble;\nconst ChatPage = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState('');\n  const [mediaPreview, setMediaPreview] = useState(null);\n  const [mediaFile, setMediaFile] = useState(null);\n  const [recording, setRecording] = useState(false);\n  const listRef = useRef(null);\n  const bottomRef = useRef(null);\n  const barRef = useRef(null);\n  const [bottomPad, setBottomPad] = useState(0);\n  useEffect(() => {\n    var _bottomRef$current;\n    // Always scroll viewport to the latest message\n    (_bottomRef$current = bottomRef.current) === null || _bottomRef$current === void 0 ? void 0 : _bottomRef$current.scrollIntoView({\n      behavior: 'smooth',\n      block: 'end'\n    });\n  }, [messages]);\n  useEffect(() => {\n    const updatePad = () => {\n      var _barRef$current;\n      return setBottomPad((((_barRef$current = barRef.current) === null || _barRef$current === void 0 ? void 0 : _barRef$current.offsetHeight) || 0) + 8);\n    };\n    updatePad();\n    window.addEventListener('resize', updatePad);\n    return () => window.removeEventListener('resize', updatePad);\n  }, []);\n  const sendMessage = async () => {\n    if (!text && !mediaPreview) return;\n    const now = Date.now();\n    const newMsgs = [];\n    if (mediaPreview) newMsgs.push({\n      id: now,\n      role: 'user',\n      media: mediaPreview\n    });\n    if (text) newMsgs.push({\n      id: now + 1,\n      role: 'user',\n      text\n    });\n    setMessages(m => m.concat(newMsgs));\n    setText('');\n    setMediaPreview(null);\n    setMediaFile(null);\n    // Call backend (mock using analysis sentiment for now)\n    try {\n      var _j$data;\n      const res = await fetch('/api/v1/analysis/analyze-sentiment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          text: text || '[media]'\n        })\n      });\n      const j = await res.json();\n      const reply = j !== null && j !== void 0 && (_j$data = j.data) !== null && _j$data !== void 0 && _j$data.label ? `Ch√†o b·∫°n! H√¨nh nh∆∞ ch√∫ng ta ƒë√£ ch√†o nhau r·ªìi nh·ªâ. B·∫°n mu·ªën h·ªèi th√™m g√¨ v·ªÅ Emostagram? (Sentiment: ${j.data.label})` : 'Ch√†o b·∫°n! H√¨nh nh∆∞ ch√∫ng ta ƒë√£ ch√†o nhau r·ªìi nh·ªâ. B·∫°n mu·ªën h·ªèi th√™m g√¨ v·ªÅ Emostagram?';\n      setMessages(m => m.concat({\n        id: Date.now() + 2,\n        role: 'assistant',\n        text: reply\n      }));\n    } catch {\n      setMessages(m => m.concat({\n        id: Date.now() + 2,\n        role: 'assistant',\n        text: 'Sorry, something went wrong.'\n      }));\n    }\n  };\n\n  // Audio recording ‚Üí transcribe (use Web Speech API if available)\n  const startVoice = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      alert('Voice input not supported in this browser');\n      return;\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    const rec = new SR();\n    rec.lang = 'vi-VN';\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    setRecording(true);\n    rec.onresult = e => {\n      const t = e.results[0][0].transcript;\n      setText(prev => prev ? prev + ' ' + t : t);\n    };\n    rec.onend = () => setRecording(false);\n    rec.onerror = () => setRecording(false);\n    rec.start();\n  };\n  const onPickMedia = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!f) return;\n    const url = URL.createObjectURL(f);\n    setMediaPreview(url);\n    setMediaFile(f);\n  };\n  const showHero = messages.length === 0;\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    style: {\n      minHeight: '100vh',\n      background: '#f8fafc',\n      color: '#111827'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Chat - Emostagram\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 980,\n        margin: '0 auto',\n        padding: '16px 16px 0 16px',\n        display: 'grid',\n        gap: 16\n      },\n      children: showHero ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          minHeight: '70vh',\n          display: 'grid',\n          alignContent: 'center',\n          justifyItems: 'center',\n          gap: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            marginTop: 8,\n            fontSize: 36,\n            fontWeight: 700\n          },\n          children: \"Emostagram\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            display: 'grid',\n            justifyItems: 'center',\n            gap: 12\n          },\n          children: [mediaPreview && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: mediaPreview,\n            alt: \"preview\",\n            style: {\n              width: 72,\n              height: 72,\n              objectFit: 'cover',\n              borderRadius: 14,\n              boxShadow: '0 8px 26px rgba(0,0,0,0.12)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 'min(92vw, 760px)',\n              height: 64,\n              background: '#ffffff',\n              border: '1px solid #e5e7eb',\n              borderRadius: 18,\n              boxShadow: '0 12px 40px rgba(0,0,0,0.06)',\n              display: 'flex',\n              alignItems: 'center',\n              padding: '0 10px',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                cursor: 'pointer',\n                padding: 8,\n                display: 'grid',\n                placeItems: 'center'\n              },\n              children: [\"\\uD83D\\uDCCE\", /*#__PURE__*/_jsxDEV(\"input\", {\n                accept: \"*/*\",\n                type: \"file\",\n                style: {\n                  display: 'none'\n                },\n                onChange: onPickMedia\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: text,\n              onChange: e => setText(e.target.value),\n              onKeyDown: e => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  sendMessage();\n                }\n              },\n              placeholder: \"What do you want to know?\",\n              style: {\n                flex: 1,\n                background: 'transparent',\n                color: '#111827',\n                border: 'none',\n                outline: 'none',\n                padding: '12px 10px',\n                fontSize: 18\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startVoice,\n              \"aria-label\": \"voice\",\n              style: {\n                width: 42,\n                height: 42,\n                borderRadius: 999,\n                background: '#111827',\n                color: 'white',\n                border: 'none',\n                display: 'grid',\n                placeItems: 'center'\n              },\n              children: recording ? 'üéôÔ∏è' : 'üé§'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: listRef,\n          style: {\n            display: 'grid',\n            gap: 6,\n            padding: '0 8px',\n            alignItems: 'start',\n            gridAutoRows: 'max-content',\n            margin: 0,\n            paddingBottom: bottomPad\n          },\n          children: [messages.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(MessageBubble, {\n              role: m.role,\n              media: m.media,\n              children: m.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this), m.role === 'assistant' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                \"aria-label\": \"like\",\n                style: {\n                  background: 'transparent',\n                  border: '1px solid #e5e7eb',\n                  color: '#374151',\n                  padding: '4px 8px',\n                  borderRadius: 8\n                },\n                children: \"\\uD83D\\uDC4D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                \"aria-label\": \"unlike\",\n                style: {\n                  background: 'transparent',\n                  border: '1px solid #e5e7eb',\n                  color: '#374151',\n                  padding: '4px 8px',\n                  borderRadius: 8\n                },\n                children: \"\\uD83D\\uDC4E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 21\n            }, this)]\n          }, m.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: bottomRef,\n            style: {\n              height: bottomPad\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: barRef,\n          style: {\n            position: 'fixed',\n            left: 0,\n            right: 0,\n            bottom: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: 980,\n              margin: '0 auto',\n              position: 'relative'\n            },\n            children: [mediaPreview && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: mediaPreview,\n              alt: \"preview\",\n              style: {\n                position: 'absolute',\n                bottom: '100%',\n                left: 0,\n                width: 56,\n                height: 56,\n                objectFit: 'cover',\n                borderRadius: 12,\n                boxShadow: '0 6px 20px rgba(0,0,0,0.12)',\n                marginBottom: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n                background: '#ffffff',\n                border: '1px solid #e5e7eb',\n                borderRadius: 16,\n                padding: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  cursor: 'pointer',\n                  padding: 8\n                },\n                children: [\"\\uD83D\\uDCCE\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  accept: \"*/*\",\n                  type: \"file\",\n                  style: {\n                    display: 'none'\n                  },\n                  onChange: onPickMedia\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: text,\n                onChange: e => setText(e.target.value),\n                onKeyDown: e => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    sendMessage();\n                  }\n                },\n                placeholder: \"What do you want to know?\",\n                style: {\n                  flex: 1,\n                  background: 'transparent',\n                  color: '#111827',\n                  border: 'none',\n                  outline: 'none',\n                  padding: '12px 10px',\n                  fontSize: 18\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startVoice,\n                \"aria-label\": \"voice\",\n                style: {\n                  background: '#0ea5e9',\n                  border: 'none',\n                  color: 'white',\n                  padding: '10px 12px',\n                  borderRadius: 12\n                },\n                children: recording ? 'üéôÔ∏è...' : 'üéôÔ∏è'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"jN79BaHbmnD4JWdGp4gWRztcXGc=\");\n_c3 = ChatPage;\nexport default ChatPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Avatar\");\n$RefreshReg$(_c2, \"MessageBubble\");\n$RefreshReg$(_c3, \"ChatPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Helmet","jsxDEV","_jsxDEV","Fragment","_Fragment","Avatar","style","width","height","borderRadius","background","display","placeItems","children","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","_c","MessageBubble","role","media","isUser","justifyItems","maxWidth","color","border","padding","boxShadow","lineHeight","src","alt","whiteSpace","_c2","ChatPage","_s","messages","setMessages","text","setText","mediaPreview","setMediaPreview","mediaFile","setMediaFile","recording","setRecording","listRef","bottomRef","barRef","bottomPad","setBottomPad","_bottomRef$current","current","scrollIntoView","behavior","block","updatePad","_barRef$current","offsetHeight","window","addEventListener","removeEventListener","sendMessage","now","Date","newMsgs","push","id","m","concat","_j$data","res","fetch","method","headers","credentials","body","JSON","stringify","j","json","reply","data","label","startVoice","alert","SR","SpeechRecognition","webkitSpeechRecognition","rec","lang","interimResults","maxAlternatives","onresult","e","t","results","transcript","prev","onend","onerror","start","onPickMedia","_e$target$files","f","target","files","url","URL","createObjectURL","showHero","length","minHeight","margin","gap","alignContent","marginTop","fontSize","objectFit","alignItems","cursor","accept","type","onChange","value","onKeyDown","key","shiftKey","preventDefault","placeholder","flex","outline","onClick","ref","gridAutoRows","paddingBottom","map","position","left","right","bottom","marginBottom","_c3","$RefreshReg$"],"sources":["/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-chat.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { Helmet } from 'react-helmet'\n\nconst Avatar = () => (\n  <div style={{ width: 64, height: 64, borderRadius: 12, background: '#e5e7eb', display: 'grid', placeItems: 'center' }}>\n    <span style={{ fontWeight: 700 }}>E</span>\n  </div>\n)\n\nconst MessageBubble = ({ role, children, media }) => {\n  const isUser = role === 'user'\n  return (\n    <div style={{ display: 'grid', justifyItems: isUser ? 'end' : 'start' }}>\n      <div style={{\n        maxWidth: 720,\n        background: isUser ? '#2563EB' : '#ffffff',\n        color: isUser ? 'white' : '#111827',\n        border: isUser ? 'none' : '1px solid #e5e7eb',\n        padding: media ? 8 : 12,\n        borderRadius: 16,\n        boxShadow: isUser ? '0 4px 14px rgba(37,99,235,0.15)' : '0 4px 14px rgba(0,0,0,0.06)',\n        display: 'inline-block',\n        width: 'fit-content',\n        lineHeight: 1.6,\n      }}>\n        {media ? (\n          <img src={media} alt=\"attachment\" style={{ width: 260, borderRadius: 12 }} />\n        ) : (\n          <div style={{ whiteSpace: 'pre-wrap' }}>{children}</div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst ChatPage = () => {\n  const [messages, setMessages] = useState([])\n  const [text, setText] = useState('')\n  const [mediaPreview, setMediaPreview] = useState(null)\n  const [mediaFile, setMediaFile] = useState(null)\n  const [recording, setRecording] = useState(false)\n  const listRef = useRef(null)\n  const bottomRef = useRef(null)\n  const barRef = useRef(null)\n  const [bottomPad, setBottomPad] = useState(0)\n\n  useEffect(() => {\n    // Always scroll viewport to the latest message\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth', block: 'end' })\n  }, [messages])\n\n  useEffect(() => {\n    const updatePad = () => setBottomPad((barRef.current?.offsetHeight || 0) + 8)\n    updatePad()\n    window.addEventListener('resize', updatePad)\n    return () => window.removeEventListener('resize', updatePad)\n  }, [])\n\n  const sendMessage = async () => {\n    if (!text && !mediaPreview) return\n    const now = Date.now()\n    const newMsgs = []\n    if (mediaPreview) newMsgs.push({ id: now, role: 'user', media: mediaPreview })\n    if (text) newMsgs.push({ id: now + 1, role: 'user', text })\n    setMessages((m) => m.concat(newMsgs))\n    setText('')\n    setMediaPreview(null)\n    setMediaFile(null)\n    // Call backend (mock using analysis sentiment for now)\n    try {\n      const res = await fetch('/api/v1/analysis/analyze-sentiment', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ text: text || '[media]' }),\n      })\n      const j = await res.json()\n      const reply = j?.data?.label ? `Ch√†o b·∫°n! H√¨nh nh∆∞ ch√∫ng ta ƒë√£ ch√†o nhau r·ªìi nh·ªâ. B·∫°n mu·ªën h·ªèi th√™m g√¨ v·ªÅ Emostagram? (Sentiment: ${j.data.label})` : 'Ch√†o b·∫°n! H√¨nh nh∆∞ ch√∫ng ta ƒë√£ ch√†o nhau r·ªìi nh·ªâ. B·∫°n mu·ªën h·ªèi th√™m g√¨ v·ªÅ Emostagram?'\n      setMessages((m) => m.concat({ id: Date.now() + 2, role: 'assistant', text: reply }))\n    } catch {\n      setMessages((m) => m.concat({ id: Date.now() + 2, role: 'assistant', text: 'Sorry, something went wrong.' }))\n    }\n  }\n\n  // Audio recording ‚Üí transcribe (use Web Speech API if available)\n  const startVoice = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      alert('Voice input not supported in this browser')\n      return\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition\n    const rec = new SR()\n    rec.lang = 'vi-VN'\n    rec.interimResults = false\n    rec.maxAlternatives = 1\n    setRecording(true)\n    rec.onresult = (e) => {\n      const t = e.results[0][0].transcript\n      setText((prev) => (prev ? prev + ' ' + t : t))\n    }\n    rec.onend = () => setRecording(false)\n    rec.onerror = () => setRecording(false)\n    rec.start()\n  }\n\n  const onPickMedia = (e) => {\n    const f = e.target.files?.[0]\n    if (!f) return\n    const url = URL.createObjectURL(f)\n    setMediaPreview(url)\n    setMediaFile(f)\n  }\n\n  const showHero = messages.length === 0\n\n  return (\n    <main style={{ minHeight: '100vh', background: '#f8fafc', color: '#111827' }}>\n      <Helmet><title>Chat - Emostagram</title></Helmet>\n      <div style={{ maxWidth: 980, margin: '0 auto', padding: '16px 16px 0 16px', display: 'grid', gap: 16 }}>\n        {showHero ? (\n          <div style={{ minHeight: '70vh', display: 'grid', alignContent: 'center', justifyItems: 'center', gap: 20 }}>\n            <Avatar />\n            <h1 style={{ marginTop: 8, fontSize: 36, fontWeight: 700 }}>Emostagram</h1>\n            <div style={{ width: '100%', display: 'grid', justifyItems: 'center', gap: 12 }}>\n              {mediaPreview && (\n                <img src={mediaPreview} alt=\"preview\" style={{ width: 72, height: 72, objectFit: 'cover', borderRadius: 14, boxShadow: '0 8px 26px rgba(0,0,0,0.12)' }} />\n              )}\n              <div style={{\n                width: 'min(92vw, 760px)',\n                height: 64,\n                background: '#ffffff',\n                border: '1px solid #e5e7eb',\n                borderRadius: 18,\n                boxShadow: '0 12px 40px rgba(0,0,0,0.06)',\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0 10px',\n                gap: 8\n              }}>\n                <label style={{ cursor: 'pointer', padding: 8, display: 'grid', placeItems: 'center' }}>\n                  üìé\n                  <input accept=\"*/*\" type=\"file\" style={{ display: 'none' }} onChange={onPickMedia} />\n                </label>\n                <input\n                  value={text}\n                  onChange={(e) => setText(e.target.value)}\n                  onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage() } }}\n                  placeholder=\"What do you want to know?\"\n                  style={{ flex: 1, background: 'transparent', color: '#111827', border: 'none', outline: 'none', padding: '12px 10px', fontSize: 18 }}\n                />\n                <button onClick={startVoice} aria-label=\"voice\" style={{ width: 42, height: 42, borderRadius: 999, background: '#111827', color: 'white', border: 'none', display: 'grid', placeItems: 'center' }}>{recording ? 'üéôÔ∏è' : 'üé§'}</button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div ref={listRef} style={{ display: 'grid', gap: 6, padding: '0 8px', alignItems: 'start', gridAutoRows: 'max-content', margin: 0, paddingBottom: bottomPad }}>\n              {messages.map((m) => (\n                <div key={m.id} style={{ display: 'grid', gap: 6 }}>\n                  <MessageBubble role={m.role} media={m.media}>{m.text}</MessageBubble>\n                  {m.role === 'assistant' && (\n                    <div style={{ display: 'flex', gap: 8 }}>\n                      <button aria-label=\"like\" style={{ background: 'transparent', border: '1px solid #e5e7eb', color: '#374151', padding: '4px 8px', borderRadius: 8 }}>üëç</button>\n                      <button aria-label=\"unlike\" style={{ background: 'transparent', border: '1px solid #e5e7eb', color: '#374151', padding: '4px 8px', borderRadius: 8 }}>üëé</button>\n                    </div>\n                  )}\n                </div>\n              ))}\n              <div ref={bottomRef} style={{ height: bottomPad }} />\n            </div>\n            <div ref={barRef} style={{ position: 'fixed', left: 0, right: 0, bottom: 0 }}>\n              <div style={{ maxWidth: 980, margin: '0 auto', position: 'relative' }}>\n              {mediaPreview && (\n                <img src={mediaPreview} alt=\"preview\" style={{ position: 'absolute', bottom: '100%', left: 0, width: 56, height: 56, objectFit: 'cover', borderRadius: 12, boxShadow: '0 6px 20px rgba(0,0,0,0.12)', marginBottom: 8 }} />\n              )}\n              <div style={{ display: 'flex', alignItems: 'center', gap: 8, background: '#ffffff', border: '1px solid #e5e7eb', borderRadius: 16, padding: 8 }}>\n                <label style={{ cursor: 'pointer', padding: 8 }}>\n                  üìé\n                  <input accept=\"*/*\" type=\"file\" style={{ display: 'none' }} onChange={onPickMedia} />\n                </label>\n                <input\n                  value={text}\n                  onChange={(e) => setText(e.target.value)}\n                  onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage() } }}\n                  placeholder=\"What do you want to know?\"\n                  style={{ flex: 1, background: 'transparent', color: '#111827', border: 'none', outline: 'none', padding: '12px 10px', fontSize: 18 }}\n                />\n                <button onClick={startVoice} aria-label=\"voice\" style={{ background: '#0ea5e9', border: 'none', color: 'white', padding: '10px 12px', borderRadius: 12 }}>{recording ? 'üéôÔ∏è...' : 'üéôÔ∏è'}</button>\n              </div>\n              \n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </main>\n  )\n}\n\nexport default ChatPage\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}