{"ast":null,"code":"var _jsxFileName = \"/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet';\n\n/* ==== Icons & button style ==== */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst IconCopy = props => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"18\",\n  height: \"18\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ...props,\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"9\",\n    y: \"9\",\n    width: \"11\",\n    height: \"11\",\n    rx: \"2\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"4\",\n    y: \"4\",\n    width: \"11\",\n    height: \"11\",\n    rx: \"2\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 3\n}, this);\n_c = IconCopy;\nconst IconThumbUp = props => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"18\",\n  height: \"18\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ...props,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14 10V5a2 2 0 0 0-2-2l-3 7H5a2 2 0 0 0-2 2v7h10.3a3 3 0 0 0 2.9-2.1l2.1-6.2A2 2 0 0 0 16.4 9H14z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.7\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 3\n}, this);\n_c2 = IconThumbUp;\nconst IconThumbDown = props => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"18\",\n  height: \"18\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  ...props,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10 14v5a2 2 0 0 0 2 2l3-7h4a2 2 0 0 0 2-2V5H10.7a3 3 0 0 0-2.9 2.1L5.7 13.3A2 2 0 0 0 7.6 16H10z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.7\",\n    strokeLinejoin: \"round\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 19,\n  columnNumber: 3\n}, this);\n_c3 = IconThumbDown;\nconst actionBtnStyle = (active = false) => ({\n  background: '#fff',\n  border: '1px solid #e5e7eb',\n  color: active ? '#111827' : '#6b7280',\n  padding: '6px 10px',\n  borderRadius: 10,\n  display: 'inline-flex',\n  alignItems: 'center',\n  gap: 6,\n  cursor: 'pointer',\n  boxShadow: active ? '0 2px 8px rgba(0,0,0,0.08)' : '0 1px 4px rgba(0,0,0,0.04)',\n  userSelect: 'none'\n});\n\n/* ==== Avatar ==== */\nconst Avatar = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    width: 64,\n    height: 64,\n    borderRadius: 12,\n    background: '#e5e7eb',\n    display: 'grid',\n    placeItems: 'center'\n  },\n  children: /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      fontWeight: 700\n    },\n    children: \"E\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 40,\n  columnNumber: 3\n}, this);\n\n/* ==== Message Bubble ==== */\n_c4 = Avatar;\nconst MessageBubble = ({\n  role,\n  children,\n  media\n}) => {\n  const isUser = role === 'user';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      justifyItems: isUser ? 'end' : 'start'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 720,\n        background: isUser ? '#111827' : '#ffffff',\n        // user bubble: black\n        color: isUser ? 'white' : '#111827',\n        border: isUser ? 'none' : '1px solid #e5e7eb',\n        padding: media ? 8 : 12,\n        borderRadius: 16,\n        boxShadow: isUser ? '0 4px 14px rgba(0,0,0,0.15)' : '0 4px 14px rgba(0,0,0,0.06)',\n        display: 'inline-block',\n        width: 'fit-content',\n        lineHeight: 1.6\n      },\n      children: media ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: media,\n        alt: \"attachment\",\n        style: {\n          width: 260,\n          borderRadius: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: 'pre-wrap'\n        },\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n/* ==== Main Page ==== */\n_c5 = MessageBubble;\nconst ChatPage = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState('');\n  const [mediaPreview, setMediaPreview] = useState(null);\n  const [mediaFile, setMediaFile] = useState(null);\n  const [recording, setRecording] = useState(false);\n  const listRef = useRef(null);\n  const bottomRef = useRef(null);\n  const barRef = useRef(null);\n  const [bottomPad, setBottomPad] = useState(0);\n\n  // ratings & copy states\n  const [ratings, setRatings] = useState({}); // { [id]: 'up' | 'down' | undefined }\n  const [copiedId, setCopiedId] = useState(null); // message id that just copied\n\n  useEffect(() => {\n    var _bottomRef$current;\n    (_bottomRef$current = bottomRef.current) === null || _bottomRef$current === void 0 ? void 0 : _bottomRef$current.scrollIntoView({\n      behavior: 'smooth',\n      block: 'end'\n    });\n  }, [messages]);\n  useEffect(() => {\n    const updatePad = () => {\n      var _barRef$current;\n      return setBottomPad((((_barRef$current = barRef.current) === null || _barRef$current === void 0 ? void 0 : _barRef$current.offsetHeight) || 0) + 8);\n    };\n    updatePad();\n    window.addEventListener('resize', updatePad);\n    return () => window.removeEventListener('resize', updatePad);\n  }, []);\n  const handleRate = (id, val) => {\n    setRatings(prev => ({\n      ...prev,\n      [id]: prev[id] === val ? undefined : val\n    }));\n  };\n  const handleCopy = async (id, text) => {\n    if (!text) return;\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedId(id);\n      setTimeout(() => setCopiedId(null), 1200);\n    } catch {}\n  };\n  const sendMessage = async () => {\n    if (!text && !mediaPreview) return;\n    const now = Date.now();\n    const newMsgs = [];\n    if (mediaPreview) newMsgs.push({\n      id: now,\n      role: 'user',\n      media: mediaPreview\n    });\n    if (text) newMsgs.push({\n      id: now + 1,\n      role: 'user',\n      text\n    });\n    setMessages(m => m.concat(newMsgs));\n    setText('');\n    setMediaPreview(null);\n    setMediaFile(null);\n    try {\n      var _j$data;\n      const res = await fetch('/api/v1/analysis/analyze-sentiment', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          text: text || '[media]'\n        })\n      });\n      const j = await res.json();\n      const reply = j !== null && j !== void 0 && (_j$data = j.data) !== null && _j$data !== void 0 && _j$data.label ? `Chào bạn! Hình như chúng ta đã chào nhau rồi nhỉ. Bạn muốn hỏi thêm gì về Emostagram? (Sentiment: ${j.data.label})` : 'Chào bạn! Hình như chúng ta đã chào nhau rồi nhỉ. Bạn muốn hỏi thêm gì về Emostagram?';\n      setMessages(m => m.concat({\n        id: Date.now() + 2,\n        role: 'assistant',\n        text: reply\n      }));\n    } catch {\n      setMessages(m => m.concat({\n        id: Date.now() + 2,\n        role: 'assistant',\n        text: 'Sorry, something went wrong.'\n      }));\n    }\n  };\n\n  // Voice input\n  const startVoice = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      alert('Voice input not supported in this browser');\n      return;\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    const rec = new SR();\n    rec.lang = 'vi-VN';\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    setRecording(true);\n    rec.onresult = e => {\n      const t = e.results[0][0].transcript;\n      setText(prev => prev ? prev + ' ' + t : t);\n    };\n    rec.onend = () => setRecording(false);\n    rec.onerror = () => setRecording(false);\n    rec.start();\n  };\n  const onPickMedia = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!f) return;\n    const url = URL.createObjectURL(f);\n    setMediaPreview(url);\n    setMediaFile(f);\n  };\n  const showHero = messages.length === 0;\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    style: {\n      minHeight: '100vh',\n      background: '#f8fafc',\n      color: '#111827'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Chat - Emostagram\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 980,\n        margin: '0 auto',\n        padding: '16px 16px 0 16px',\n        display: 'grid',\n        gap: 16\n      },\n      children: showHero ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          minHeight: '70vh',\n          display: 'grid',\n          alignContent: 'center',\n          justifyItems: 'center',\n          gap: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            marginTop: 8,\n            fontSize: 36,\n            fontWeight: 700\n          },\n          children: \"Emostagram\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            display: 'grid',\n            justifyItems: 'center',\n            gap: 12\n          },\n          children: [mediaPreview && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: mediaPreview,\n            alt: \"preview\",\n            style: {\n              width: 72,\n              height: 72,\n              objectFit: 'cover',\n              borderRadius: 14,\n              boxShadow: '0 8px 26px rgba(0,0,0,0.12)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 'min(92vw, 760px)',\n              height: 64,\n              background: '#ffffff',\n              border: '1px solid #e5e7eb',\n              borderRadius: 18,\n              boxShadow: '0 12px 40px rgba(0,0,0,0.06)',\n              display: 'flex',\n              alignItems: 'center',\n              padding: '0 10px',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                cursor: 'pointer',\n                padding: 8,\n                display: 'grid',\n                placeItems: 'center'\n              },\n              children: [\"\\uD83D\\uDCCE\", /*#__PURE__*/_jsxDEV(\"input\", {\n                accept: \"*/*\",\n                type: \"file\",\n                style: {\n                  display: 'none'\n                },\n                onChange: onPickMedia\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: text,\n              onChange: e => setText(e.target.value),\n              onKeyDown: e => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  sendMessage();\n                }\n              },\n              placeholder: \"What do you want to know?\",\n              style: {\n                flex: 1,\n                background: 'transparent',\n                color: '#111827',\n                border: 'none',\n                outline: 'none',\n                padding: '12px 10px',\n                fontSize: 18\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startVoice,\n              \"aria-label\": \"voice\",\n              style: {\n                width: 42,\n                height: 42,\n                borderRadius: 999,\n                background: '#111827',\n                color: 'white',\n                border: 'none',\n                display: 'grid',\n                placeItems: 'center'\n              },\n              children: recording ? '🎙️' : '🎤'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: listRef,\n          style: {\n            display: 'grid',\n            gap: 6,\n            padding: '0 8px',\n            alignItems: 'start',\n            gridAutoRows: 'max-content',\n            margin: 0,\n            paddingBottom: bottomPad\n          },\n          children: [messages.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(MessageBubble, {\n              role: m.role,\n              media: m.media,\n              children: m.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), m.role === 'assistant' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                \"aria-label\": \"copy\",\n                onClick: () => handleCopy(m.id, m.text),\n                title: copiedId === m.id ? 'Copied!' : 'Copy',\n                style: actionBtnStyle(copiedId === m.id),\n                children: [/*#__PURE__*/_jsxDEV(IconCopy, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 13\n                  },\n                  children: \"Copy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                \"aria-label\": \"like\",\n                onClick: () => handleRate(m.id, 'up'),\n                style: actionBtnStyle(ratings[m.id] === 'up'),\n                title: \"Like\",\n                children: [/*#__PURE__*/_jsxDEV(IconThumbUp, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 13\n                  },\n                  children: \"Like\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                \"aria-label\": \"dislike\",\n                onClick: () => handleRate(m.id, 'down'),\n                style: actionBtnStyle(ratings[m.id] === 'down'),\n                title: \"Dislike\",\n                children: [/*#__PURE__*/_jsxDEV(IconThumbDown, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 13\n                  },\n                  children: \"Dislike\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this)]\n          }, m.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: bottomRef,\n            style: {\n              height: bottomPad\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: barRef,\n          style: {\n            position: 'fixed',\n            left: 0,\n            right: 0,\n            bottom: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: 980,\n              margin: '0 auto',\n              position: 'relative'\n            },\n            children: [mediaPreview && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: mediaPreview,\n              alt: \"preview\",\n              style: {\n                position: 'absolute',\n                bottom: '100%',\n                left: 0,\n                width: 56,\n                height: 56,\n                objectFit: 'cover',\n                borderRadius: 12,\n                boxShadow: '0 6px 20px rgba(0,0,0,0.12)',\n                marginBottom: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n                background: '#ffffff',\n                border: '1px solid #e5e7eb',\n                borderRadius: 16,\n                padding: 8,\n                margin: '20px auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  cursor: 'pointer',\n                  padding: 8\n                },\n                children: [\"\\uD83D\\uDCCE\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  accept: \"*/*\",\n                  type: \"file\",\n                  style: {\n                    display: 'none'\n                  },\n                  onChange: onPickMedia\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                value: text,\n                onChange: e => setText(e.target.value),\n                onKeyDown: e => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    sendMessage();\n                  }\n                },\n                placeholder: \"What do you want to know?\",\n                style: {\n                  flex: 1,\n                  background: 'transparent',\n                  color: '#111827',\n                  border: 'none',\n                  outline: 'none',\n                  padding: '12px 10px',\n                  fontSize: 18\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startVoice,\n                \"aria-label\": \"voice\",\n                style: {\n                  width: 42,\n                  height: 42,\n                  borderRadius: 999,\n                  background: '#111827',\n                  color: 'white',\n                  border: 'none',\n                  display: 'grid',\n                  placeItems: 'center'\n                },\n                children: recording ? '🎙️' : '🎤'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"u9fHsJdbJXcr+usVrD9ebog4UNY=\");\n_c6 = ChatPage;\nexport default ChatPage;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"IconCopy\");\n$RefreshReg$(_c2, \"IconThumbUp\");\n$RefreshReg$(_c3, \"IconThumbDown\");\n$RefreshReg$(_c4, \"Avatar\");\n$RefreshReg$(_c5, \"MessageBubble\");\n$RefreshReg$(_c6, \"ChatPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Helmet","jsxDEV","_jsxDEV","Fragment","_Fragment","IconCopy","props","width","height","viewBox","fill","children","x","y","rx","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","_c","IconThumbUp","d","strokeLinejoin","_c2","IconThumbDown","_c3","actionBtnStyle","active","background","border","color","padding","borderRadius","display","alignItems","gap","cursor","boxShadow","userSelect","Avatar","style","placeItems","fontWeight","_c4","MessageBubble","role","media","isUser","justifyItems","maxWidth","lineHeight","src","alt","whiteSpace","_c5","ChatPage","_s","messages","setMessages","text","setText","mediaPreview","setMediaPreview","mediaFile","setMediaFile","recording","setRecording","listRef","bottomRef","barRef","bottomPad","setBottomPad","ratings","setRatings","copiedId","setCopiedId","_bottomRef$current","current","scrollIntoView","behavior","block","updatePad","_barRef$current","offsetHeight","window","addEventListener","removeEventListener","handleRate","id","val","prev","undefined","handleCopy","navigator","clipboard","writeText","setTimeout","sendMessage","now","Date","newMsgs","push","m","concat","_j$data","res","fetch","method","headers","credentials","body","JSON","stringify","j","json","reply","data","label","startVoice","alert","SR","SpeechRecognition","webkitSpeechRecognition","rec","lang","interimResults","maxAlternatives","onresult","e","t","results","transcript","onend","onerror","start","onPickMedia","_e$target$files","f","target","files","url","URL","createObjectURL","showHero","length","minHeight","margin","alignContent","marginTop","fontSize","objectFit","accept","type","onChange","value","onKeyDown","key","shiftKey","preventDefault","placeholder","flex","outline","onClick","ref","gridAutoRows","paddingBottom","map","title","position","left","right","bottom","marginBottom","_c6","$RefreshReg$"],"sources":["/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-chat.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { Helmet } from 'react-helmet'\n\n/* ==== Icons & button style ==== */\nconst IconCopy = (props) => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" {...props}>\n    <rect x=\"9\" y=\"9\" width=\"11\" height=\"11\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"1.7\"/>\n    <rect x=\"4\" y=\"4\" width=\"11\" height=\"11\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"1.7\"/>\n  </svg>\n)\n\nconst IconThumbUp = (props) => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" {...props}>\n    <path d=\"M14 10V5a2 2 0 0 0-2-2l-3 7H5a2 2 0 0 0-2 2v7h10.3a3 3 0 0 0 2.9-2.1l2.1-6.2A2 2 0 0 0 16.4 9H14z\" stroke=\"currentColor\" strokeWidth=\"1.7\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst IconThumbDown = (props) => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" {...props}>\n    <path d=\"M10 14v5a2 2 0 0 0 2 2l3-7h4a2 2 0 0 0 2-2V5H10.7a3 3 0 0 0-2.9 2.1L5.7 13.3A2 2 0 0 0 7.6 16H10z\" stroke=\"currentColor\" strokeWidth=\"1.7\" strokeLinejoin=\"round\"/>\n  </svg>\n)\n\nconst actionBtnStyle = (active=false) => ({\n  background: '#fff',\n  border: '1px solid #e5e7eb',\n  color: active ? '#111827' : '#6b7280',\n  padding: '6px 10px',\n  borderRadius: 10,\n  display: 'inline-flex',\n  alignItems: 'center',\n  gap: 6,\n  cursor: 'pointer',\n  boxShadow: active ? '0 2px 8px rgba(0,0,0,0.08)' : '0 1px 4px rgba(0,0,0,0.04)',\n  userSelect: 'none'\n})\n\n/* ==== Avatar ==== */\nconst Avatar = () => (\n  <div style={{ width: 64, height: 64, borderRadius: 12, background: '#e5e7eb', display: 'grid', placeItems: 'center' }}>\n    <span style={{ fontWeight: 700 }}>E</span>\n  </div>\n)\n\n/* ==== Message Bubble ==== */\nconst MessageBubble = ({ role, children, media }) => {\n  const isUser = role === 'user'\n  return (\n    <div style={{ display: 'grid', justifyItems: isUser ? 'end' : 'start' }}>\n      <div style={{\n        maxWidth: 720,\n        background: isUser ? '#111827' : '#ffffff', // user bubble: black\n        color: isUser ? 'white' : '#111827',\n        border: isUser ? 'none' : '1px solid #e5e7eb',\n        padding: media ? 8 : 12,\n        borderRadius: 16,\n        boxShadow: isUser ? '0 4px 14px rgba(0,0,0,0.15)' : '0 4px 14px rgba(0,0,0,0.06)',\n        display: 'inline-block',\n        width: 'fit-content',\n        lineHeight: 1.6,\n      }}>\n        {media ? (\n          <img src={media} alt=\"attachment\" style={{ width: 260, borderRadius: 12 }} />\n        ) : (\n          <div style={{ whiteSpace: 'pre-wrap' }}>{children}</div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n/* ==== Main Page ==== */\nconst ChatPage = () => {\n  const [messages, setMessages] = useState([])\n  const [text, setText] = useState('')\n  const [mediaPreview, setMediaPreview] = useState(null)\n  const [mediaFile, setMediaFile] = useState(null)\n  const [recording, setRecording] = useState(false)\n  const listRef = useRef(null)\n  const bottomRef = useRef(null)\n  const barRef = useRef(null)\n  const [bottomPad, setBottomPad] = useState(0)\n\n  // ratings & copy states\n  const [ratings, setRatings] = useState({})       // { [id]: 'up' | 'down' | undefined }\n  const [copiedId, setCopiedId] = useState(null)   // message id that just copied\n\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth', block: 'end' })\n  }, [messages])\n\n  useEffect(() => {\n    const updatePad = () => setBottomPad((barRef.current?.offsetHeight || 0) + 8)\n    updatePad()\n    window.addEventListener('resize', updatePad)\n    return () => window.removeEventListener('resize', updatePad)\n  }, [])\n\n  const handleRate = (id, val) => {\n    setRatings(prev => ({ ...prev, [id]: prev[id] === val ? undefined : val }))\n  }\n\n  const handleCopy = async (id, text) => {\n    if (!text) return\n    try {\n      await navigator.clipboard.writeText(text)\n      setCopiedId(id)\n      setTimeout(() => setCopiedId(null), 1200)\n    } catch {}\n  }\n\n  const sendMessage = async () => {\n    if (!text && !mediaPreview) return\n    const now = Date.now()\n    const newMsgs = []\n    if (mediaPreview) newMsgs.push({ id: now, role: 'user', media: mediaPreview })\n    if (text) newMsgs.push({ id: now + 1, role: 'user', text })\n    setMessages((m) => m.concat(newMsgs))\n    setText('')\n    setMediaPreview(null)\n    setMediaFile(null)\n    try {\n      const res = await fetch('/api/v1/analysis/analyze-sentiment', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ text: text || '[media]' }),\n      })\n      const j = await res.json()\n      const reply = j?.data?.label\n        ? `Chào bạn! Hình như chúng ta đã chào nhau rồi nhỉ. Bạn muốn hỏi thêm gì về Emostagram? (Sentiment: ${j.data.label})`\n        : 'Chào bạn! Hình như chúng ta đã chào nhau rồi nhỉ. Bạn muốn hỏi thêm gì về Emostagram?'\n      setMessages((m) => m.concat({ id: Date.now() + 2, role: 'assistant', text: reply }))\n    } catch {\n      setMessages((m) => m.concat({ id: Date.now() + 2, role: 'assistant', text: 'Sorry, something went wrong.' }))\n    }\n  }\n\n  // Voice input\n  const startVoice = () => {\n    if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {\n      alert('Voice input not supported in this browser')\n      return\n    }\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition\n    const rec = new SR()\n    rec.lang = 'vi-VN'\n    rec.interimResults = false\n    rec.maxAlternatives = 1\n    setRecording(true)\n    rec.onresult = (e) => {\n      const t = e.results[0][0].transcript\n      setText((prev) => (prev ? prev + ' ' + t : t))\n    }\n    rec.onend = () => setRecording(false)\n    rec.onerror = () => setRecording(false)\n    rec.start()\n  }\n\n  const onPickMedia = (e) => {\n    const f = e.target.files?.[0]\n    if (!f) return\n    const url = URL.createObjectURL(f)\n    setMediaPreview(url)\n    setMediaFile(f)\n  }\n\n  const showHero = messages.length === 0\n\n  return (\n    <main style={{ minHeight: '100vh', background: '#f8fafc', color: '#111827' }}>\n      <Helmet><title>Chat - Emostagram</title></Helmet>\n      <div style={{ maxWidth: 980, margin: '0 auto', padding: '16px 16px 0 16px', display: 'grid', gap: 16 }}>\n        {showHero ? (\n          <div style={{ minHeight: '70vh', display: 'grid', alignContent: 'center', justifyItems: 'center', gap: 20 }}>\n            <Avatar />\n            <h1 style={{ marginTop: 8, fontSize: 36, fontWeight: 700 }}>Emostagram</h1>\n            <div style={{ width: '100%', display: 'grid', justifyItems: 'center', gap: 12 }}>\n              {mediaPreview && (\n                <img src={mediaPreview} alt=\"preview\" style={{ width: 72, height: 72, objectFit: 'cover', borderRadius: 14, boxShadow: '0 8px 26px rgba(0,0,0,0.12)' }} />\n              )}\n              <div style={{\n                width: 'min(92vw, 760px)',\n                height: 64,\n                background: '#ffffff',\n                border: '1px solid #e5e7eb',\n                borderRadius: 18,\n                boxShadow: '0 12px 40px rgba(0,0,0,0.06)',\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0 10px',\n                gap: 8\n              }}>\n                <label style={{ cursor: 'pointer', padding: 8, display: 'grid', placeItems: 'center' }}>\n                  📎\n                  <input accept=\"*/*\" type=\"file\" style={{ display: 'none' }} onChange={onPickMedia} />\n                </label>\n                <input\n                  value={text}\n                  onChange={(e) => setText(e.target.value)}\n                  onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage() } }}\n                  placeholder=\"What do you want to know?\"\n                  style={{ flex: 1, background: 'transparent', color: '#111827', border: 'none', outline: 'none', padding: '12px 10px', fontSize: 18 }}\n                />\n                <button onClick={startVoice} aria-label=\"voice\" style={{ width: 42, height: 42, borderRadius: 999, background: '#111827', color: 'white', border: 'none', display: 'grid', placeItems: 'center' }}>\n                  {recording ? '🎙️' : '🎤'}\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div ref={listRef} style={{ display: 'grid', gap: 6, padding: '0 8px', alignItems: 'start', gridAutoRows: 'max-content', margin: 0, paddingBottom: bottomPad }}>\n              {messages.map((m) => (\n                <div key={m.id} style={{ display: 'grid', gap: 6 }}>\n                  <MessageBubble role={m.role} media={m.media}>{m.text}</MessageBubble>\n\n                  {/* Action buttons for assistant messages */}\n                  {m.role === 'assistant' && (\n                    <div style={{ display: 'flex', gap: 8 }}>\n                      <button\n                        aria-label=\"copy\"\n                        onClick={() => handleCopy(m.id, m.text)}\n                        title={copiedId === m.id ? 'Copied!' : 'Copy'}\n                        style={actionBtnStyle(copiedId === m.id)}\n                      >\n                        <IconCopy />\n                        <span style={{ fontSize: 13 }}>Copy</span>\n                      </button>\n\n                      <button\n                        aria-label=\"like\"\n                        onClick={() => handleRate(m.id, 'up')}\n                        style={actionBtnStyle(ratings[m.id] === 'up')}\n                        title=\"Like\"\n                      >\n                        <IconThumbUp />\n                        <span style={{ fontSize: 13 }}>Like</span>\n                      </button>\n\n                      <button\n                        aria-label=\"dislike\"\n                        onClick={() => handleRate(m.id, 'down')}\n                        style={actionBtnStyle(ratings[m.id] === 'down')}\n                        title=\"Dislike\"\n                      >\n                        <IconThumbDown />\n                        <span style={{ fontSize: 13 }}>Dislike</span>\n                      </button>\n                    </div>\n                  )}\n                </div>\n              ))}\n              <div ref={bottomRef} style={{ height: bottomPad }} />\n            </div>\n\n            {/* Bottom input bar */}\n            <div ref={barRef} style={{ position: 'fixed', left: 0, right: 0, bottom: 0 }}>\n              <div style={{ maxWidth: 980, margin: '0 auto', position: 'relative' }}>\n                {mediaPreview && (\n                  <img src={mediaPreview} alt=\"preview\" style={{ position: 'absolute', bottom: '100%', left: 0, width: 56, height: 56, objectFit: 'cover', borderRadius: 12, boxShadow: '0 6px 20px rgba(0,0,0,0.12)', marginBottom: 8 }} />\n                )}\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8, background: '#ffffff', border: '1px solid #e5e7eb', borderRadius: 16, padding: 8, margin: '20px auto' }}>\n                  <label style={{ cursor: 'pointer', padding: 8 }}>\n                    📎\n                    <input accept=\"*/*\" type=\"file\" style={{ display: 'none' }} onChange={onPickMedia} />\n                  </label>\n                  <input\n                    value={text}\n                    onChange={(e) => setText(e.target.value)}\n                    onKeyDown={(e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage() } }}\n                    placeholder=\"What do you want to know?\"\n                    style={{ flex: 1, background: 'transparent', color: '#111827', border: 'none', outline: 'none', padding: '12px 10px', fontSize: 18 }}\n                  />\n                  <button onClick={startVoice} aria-label=\"voice\" style={{ width: 42, height: 42, borderRadius: 999, background: '#111827', color: 'white', border: 'none', display: 'grid', placeItems: 'center' }}>\n                    {recording ? '🎙️' : '🎤'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </main>\n  )\n}\n\nexport default ChatPage\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}