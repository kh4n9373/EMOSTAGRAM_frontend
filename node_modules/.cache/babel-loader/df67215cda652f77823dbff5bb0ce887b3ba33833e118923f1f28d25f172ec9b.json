{"ast":null,"code":"var _jsxFileName = \"/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-community.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"main\", {\n  style: {\n    maxWidth: 1152,\n    margin: '0 auto',\n    padding: '0 16px'\n  },\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 3\n}, this);\n_c = Container;\nconst Sticky = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    position: 'sticky',\n    top: 72\n  },\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 3\n}, this);\n_c2 = Sticky;\nconst SectionCard = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"section\", {\n  style: {\n    background: 'rgba(255,255,255,0.8)',\n    border: '1px solid #e5e7eb',\n    borderRadius: 16,\n    padding: 16\n  },\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 3\n}, this);\n_c3 = SectionCard;\nconst FollowingList = ({\n  people\n}) => /*#__PURE__*/_jsxDEV(\"ul\", {\n  style: {\n    listStyle: 'none',\n    padding: 0,\n    margin: 0\n  },\n  children: people.map(p => /*#__PURE__*/_jsxDEV(\"li\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: '10px 0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: p.avatarUrl,\n      alt: p.name,\n      width: 28,\n      height: 28,\n      style: {\n        borderRadius: 14,\n        marginRight: 8\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        flex: 1\n      },\n      children: p.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this), p.isActive && /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: 8,\n        height: 8,\n        borderRadius: 4,\n        background: '#16a34a'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 24\n    }, this)]\n  }, p.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 7\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 3\n}, this);\n_c4 = FollowingList;\nconst Tabs = ({\n  tabs,\n  active,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    display: 'flex',\n    gap: 16,\n    borderBottom: '1px solid #eee',\n    marginBottom: 12\n  },\n  children: tabs.map(t => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => onChange(t),\n    style: {\n      padding: '10px 0',\n      border: 'none',\n      borderBottom: active === t ? '2px solid #111' : '2px solid transparent',\n      background: 'transparent',\n      fontWeight: 700,\n      cursor: 'pointer'\n    },\n    children: t\n  }, t, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 7\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 30,\n  columnNumber: 3\n}, this);\n_c5 = Tabs;\nconst PostCard = ({\n  item\n}) => {\n  var _item$author, _item$author2, _item$author3, _item$readTimeMin, _item$stats$responses, _item$stats, _item$stats$bookmarks, _item$stats2, _item$stats$views, _item$stats3;\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: '48px 1fr',\n      gap: 12,\n      padding: 16,\n      border: '1px solid #e5e7eb',\n      borderRadius: 16,\n      background: 'rgba(255,255,255,0.8)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: (_item$author = item.author) === null || _item$author === void 0 ? void 0 : _item$author.avatarUrl,\n      alt: (_item$author2 = item.author) === null || _item$author2 === void 0 ? void 0 : _item$author2.name,\n      width: 48,\n      height: 48,\n      style: {\n        borderRadius: 24\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'baseline',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: (_item$author3 = item.author) === null || _item$author3 === void 0 ? void 0 : _item$author3.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#6b7280',\n            fontSize: 13\n          },\n          children: [item.dateISO, \" \\xB7 \", (_item$readTimeMin = item.readTimeMin) !== null && _item$readTimeMin !== void 0 ? _item$readTimeMin : 5, \" min\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '4px 0 8px 0',\n          fontSize: 18\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/blogs/${item.id}`,\n          style: {\n            textDecoration: 'none',\n            color: 'inherit'\n          },\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this), item.subtitle && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0,\n          color: '#6b7280'\n        },\n        children: item.subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 16,\n          marginTop: 10,\n          color: '#6b7280',\n          fontSize: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uD83D\\uDCAC \", (_item$stats$responses = (_item$stats = item.stats) === null || _item$stats === void 0 ? void 0 : _item$stats.responses) !== null && _item$stats$responses !== void 0 ? _item$stats$responses : 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uD83D\\uDD16 \", (_item$stats$bookmarks = (_item$stats2 = item.stats) === null || _item$stats2 === void 0 ? void 0 : _item$stats2.bookmarks) !== null && _item$stats$bookmarks !== void 0 ? _item$stats$bookmarks : 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\uD83D\\uDC41\\uFE0F \", (_item$stats$views = (_item$stats3 = item.stats) === null || _item$stats3 === void 0 ? void 0 : _item$stats3.views) !== null && _item$stats$views !== void 0 ? _item$stats$views : 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 3\n  }, this);\n};\n_c6 = PostCard;\nconst Skeleton = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    display: 'grid',\n    gap: 12\n  },\n  children: [0, 1, 2].map(k => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: 120,\n      borderRadius: 16,\n      border: '1px solid #eee',\n      background: 'linear-gradient(90deg,#f3f4f6 25%,#e5e7eb 37%,#f3f4f6 63%)',\n      backgroundSize: '400% 100%',\n      animation: 'pulse 1.4s ease infinite'\n    }\n  }, k, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 7\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 59,\n  columnNumber: 3\n}, this);\n_c7 = Skeleton;\nconst useFetch = url => {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    let mounted = true;\n    setLoading(true);\n    fetch(url).then(r => r.json()).then(j => mounted && (setData(j), setLoading(false))).catch(e => mounted && (setError(e), setLoading(false)));\n    return () => {\n      mounted = false;\n    };\n  }, [url]);\n  return {\n    data,\n    loading,\n    error\n  };\n};\n_s(useFetch, \"RiL7vLwmC7ZWXKL/bXt2EIBjBYk=\");\nconst useInfiniteBlogs = () => {\n  _s2();\n  const [items, setItems] = useState([]);\n  const [cursor, setCursor] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [done, setDone] = useState(false);\n  const load = () => {\n    if (loading || done) return;\n    setLoading(true);\n    const qs = new URLSearchParams({\n      limit: '10'\n    });\n    if (cursor) qs.set('cursor', cursor);\n    fetch(`/api/v1/blogs?${qs.toString()}`).then(r => r.json()).then(j => {\n      setItems(prev => prev.concat(j.items || []));\n      if (j.nextCursor) setCursor(j.nextCursor);else setDone(true);\n    }).finally(() => setLoading(false));\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  return {\n    items,\n    loading,\n    done,\n    load\n  };\n};\n_s2(useInfiniteBlogs, \"WsFg56KmbaukBM8MWcERo2QNEzo=\");\nconst CommunityPage = () => {\n  _s3();\n  var _following$items, _staff$items;\n  const [tab, setTab] = useState('For you'); // For you | Following\n  const blogs = useInfiniteBlogs();\n  const {\n    data: following\n  } = useFetch('/api/v1/followings');\n  const {\n    data: staff\n  } = useFetch('/api/v1/staff-picks');\n  const sentinelRef = useRef(null);\n\n  // infinite scroll\n  useEffect(() => {\n    const el = sentinelRef.current;\n    if (!el) return;\n    const io = new IntersectionObserver(entries => {\n      entries.forEach(e => {\n        if (e.isIntersecting) blogs.load();\n      });\n    });\n    io.observe(el);\n    return () => io.disconnect();\n  }, [sentinelRef.current, blogs]);\n  const followingIds = useMemo(() => new Set(((following === null || following === void 0 ? void 0 : following.items) || []).map(u => u.id)), [following]);\n  const visible = useMemo(() => {\n    if (tab === 'For you') return blogs.items;\n    return blogs.items.filter(p => {\n      var _p$author;\n      return followingIds.has((_p$author = p.author) === null || _p$author === void 0 ? void 0 : _p$author.id);\n    });\n  }, [tab, blogs.items, followingIds]);\n\n  // responsive columns\n  const [width, setWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1024);\n  useEffect(() => {\n    const onResize = () => setWidth(window.innerWidth);\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n  const showLeft = width >= 1024;\n  const showRight = width >= 1280;\n  const gridStyle = useMemo(() => {\n    if (showLeft && showRight) return {\n      display: 'grid',\n      gap: 24,\n      gridTemplateColumns: '240px 1fr 320px'\n    };\n    if (showLeft && !showRight) return {\n      display: 'grid',\n      gap: 24,\n      gridTemplateColumns: '240px 1fr'\n    };\n    return {\n      display: 'grid',\n      gap: 24,\n      gridTemplateColumns: '1fr'\n    };\n  }, [showLeft, showRight]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Community\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: gridStyle,\n      children: [showLeft && /*#__PURE__*/_jsxDEV(\"aside\", {\n        children: /*#__PURE__*/_jsxDEV(Sticky, {\n          children: /*#__PURE__*/_jsxDEV(SectionCard, {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                margin: '0 0 12px 0'\n              },\n              children: \"Following\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), following !== null && following !== void 0 && (_following$items = following.items) !== null && _following$items !== void 0 && _following$items.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                maxHeight: '60vh',\n                overflowY: 'auto',\n                paddingRight: 4\n              },\n              children: /*#__PURE__*/_jsxDEV(FollowingList, {\n                people: following.items\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#6b7280'\n              },\n              children: \"No following.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          tabs: ['For you', 'Following'],\n          active: tab,\n          onChange: setTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: 12\n          },\n          children: [visible.map(it => /*#__PURE__*/_jsxDEV(PostCard, {\n            item: it\n          }, it.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)), !blogs.items.length && /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: sentinelRef,\n          style: {\n            height: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), showRight && /*#__PURE__*/_jsxDEV(\"aside\", {\n        children: /*#__PURE__*/_jsxDEV(Sticky, {\n          children: /*#__PURE__*/_jsxDEV(SectionCard, {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"Staff Picks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                listStyle: 'none',\n                padding: 0,\n                margin: 0\n              },\n              children: staff !== null && staff !== void 0 && (_staff$items = staff.items) !== null && _staff$items !== void 0 && _staff$items.length ? staff.items.map(sp => {\n                var _sp$author;\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  style: {\n                    padding: '8px 0'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `/blogs/${sp.id}`,\n                    style: {\n                      textDecoration: 'none',\n                      color: '#111'\n                    },\n                    children: sp.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: '#6b7280',\n                      fontSize: 13\n                    },\n                    children: [(_sp$author = sp.author) === null || _sp$author === void 0 ? void 0 : _sp$author.name, \" \\xB7 \", sp.dateISO]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 23\n                  }, this)]\n                }, sp.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 21\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#6b7280'\n                },\n                children: \"No staff picks.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 24\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n};\n_s3(CommunityPage, \"uMd4hA69Eppq2FkvevhDNXXdfFw=\", false, function () {\n  return [useInfiniteBlogs, useFetch, useFetch];\n});\n_c8 = CommunityPage;\nexport default CommunityPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Sticky\");\n$RefreshReg$(_c3, \"SectionCard\");\n$RefreshReg$(_c4, \"FollowingList\");\n$RefreshReg$(_c5, \"Tabs\");\n$RefreshReg$(_c6, \"PostCard\");\n$RefreshReg$(_c7, \"Skeleton\");\n$RefreshReg$(_c8, \"CommunityPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Helmet","Link","jsxDEV","_jsxDEV","Container","children","style","maxWidth","margin","padding","fileName","_jsxFileName","lineNumber","columnNumber","_c","Sticky","position","top","_c2","SectionCard","background","border","borderRadius","_c3","FollowingList","people","listStyle","map","p","display","alignItems","src","avatarUrl","alt","name","width","height","marginRight","flex","isActive","id","_c4","Tabs","tabs","active","onChange","gap","borderBottom","marginBottom","t","onClick","fontWeight","cursor","_c5","PostCard","item","_item$author","_item$author2","_item$author3","_item$readTimeMin","_item$stats$responses","_item$stats","_item$stats$bookmarks","_item$stats2","_item$stats$views","_item$stats3","gridTemplateColumns","author","color","fontSize","dateISO","readTimeMin","to","textDecoration","title","subtitle","marginTop","stats","responses","bookmarks","views","_c6","Skeleton","k","backgroundSize","animation","_c7","useFetch","url","_s","data","setData","loading","setLoading","error","setError","mounted","fetch","then","r","json","j","catch","e","useInfiniteBlogs","_s2","items","setItems","setCursor","done","setDone","load","qs","URLSearchParams","limit","set","toString","prev","concat","nextCursor","finally","CommunityPage","_s3","_following$items","_staff$items","tab","setTab","blogs","following","staff","sentinelRef","el","current","io","IntersectionObserver","entries","forEach","isIntersecting","observe","disconnect","followingIds","Set","u","visible","filter","_p$author","has","setWidth","window","innerWidth","onResize","addEventListener","removeEventListener","showLeft","showRight","gridStyle","length","maxHeight","overflowY","paddingRight","it","ref","sp","_sp$author","_c8","$RefreshReg$"],"sources":["/Users/khangtuan/Documents/eq_test/eq_test_frontend_v2/src/views/page-community.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react'\nimport { Helmet } from 'react-helmet'\nimport { Link } from 'react-router-dom'\n\nconst Container = ({ children }) => (\n  <main style={{ maxWidth: 1152, margin: '0 auto', padding: '0 16px' }}>{children}</main>\n)\n\nconst Sticky = ({ children }) => (\n  <div style={{ position: 'sticky', top: 72 }}>{children}</div>\n)\n\nconst SectionCard = ({ children }) => (\n  <section style={{ background: 'rgba(255,255,255,0.8)', border: '1px solid #e5e7eb', borderRadius: 16, padding: 16 }}>{children}</section>\n)\n\nconst FollowingList = ({ people }) => (\n  <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\n    {people.map((p) => (\n      <li key={p.id} style={{ display: 'flex', alignItems: 'center', padding: '10px 0' }}>\n        <img src={p.avatarUrl} alt={p.name} width={28} height={28} style={{ borderRadius: 14, marginRight: 8 }} />\n        <span style={{ flex: 1 }}>{p.name}</span>\n        {p.isActive && <span style={{ width: 8, height: 8, borderRadius: 4, background: '#16a34a' }} />}\n      </li>\n    ))}\n  </ul>\n)\n\nconst Tabs = ({ tabs, active, onChange }) => (\n  <div style={{ display: 'flex', gap: 16, borderBottom: '1px solid #eee', marginBottom: 12 }}>\n    {tabs.map((t) => (\n      <button key={t} onClick={() => onChange(t)} style={{ padding: '10px 0', border: 'none', borderBottom: active === t ? '2px solid #111' : '2px solid transparent', background: 'transparent', fontWeight: 700, cursor: 'pointer' }}>{t}</button>\n    ))}\n  </div>\n)\n\nconst PostCard = ({ item }) => (\n  <article style={{ display: 'grid', gridTemplateColumns: '48px 1fr', gap: 12, padding: 16, border: '1px solid #e5e7eb', borderRadius: 16, background: 'rgba(255,255,255,0.8)' }}>\n    <img src={item.author?.avatarUrl} alt={item.author?.name} width={48} height={48} style={{ borderRadius: 24 }} />\n    <div>\n      <div style={{ display: 'flex', alignItems: 'baseline', gap: 8 }}>\n        <strong>{item.author?.name}</strong>\n        <span style={{ color: '#6b7280', fontSize: 13 }}>{item.dateISO} · {item.readTimeMin ?? 5} min</span>\n      </div>\n      <h3 style={{ margin: '4px 0 8px 0', fontSize: 18 }}>\n        <Link to={`/blogs/${item.id}`} style={{ textDecoration: 'none', color: 'inherit' }}>{item.title}</Link>\n      </h3>\n      {item.subtitle && <p style={{ margin: 0, color: '#6b7280' }}>{item.subtitle}</p>}\n      <div style={{ display: 'flex', gap: 16, marginTop: 10, color: '#6b7280', fontSize: 14 }}>\n        <span>💬 {item.stats?.responses ?? 0}</span>\n        <span>🔖 {(item.stats?.bookmarks ?? 0)}</span>\n        <span>👁️ {item.stats?.views ?? 0}</span>\n      </div>\n    </div>\n  </article>\n)\n\nconst Skeleton = () => (\n  <div style={{ display: 'grid', gap: 12 }}>\n    {[0,1,2].map((k) => (\n      <div key={k} style={{ height: 120, borderRadius: 16, border: '1px solid #eee', background: 'linear-gradient(90deg,#f3f4f6 25%,#e5e7eb 37%,#f3f4f6 63%)', backgroundSize: '400% 100%', animation: 'pulse 1.4s ease infinite' }} />\n    ))}\n  </div>\n)\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  useEffect(() => {\n    let mounted = true\n    setLoading(true)\n    fetch(url)\n      .then((r) => r.json())\n      .then((j) => mounted && (setData(j), setLoading(false)))\n      .catch((e) => mounted && (setError(e), setLoading(false)))\n    return () => { mounted = false }\n  }, [url])\n  return { data, loading, error }\n}\n\nconst useInfiniteBlogs = () => {\n  const [items, setItems] = useState([])\n  const [cursor, setCursor] = useState(null)\n  const [loading, setLoading] = useState(false)\n  const [done, setDone] = useState(false)\n  const load = () => {\n    if (loading || done) return\n    setLoading(true)\n    const qs = new URLSearchParams({ limit: '10' })\n    if (cursor) qs.set('cursor', cursor)\n    fetch(`/api/v1/blogs?${qs.toString()}`)\n      .then((r) => r.json())\n      .then((j) => {\n        setItems((prev) => prev.concat(j.items || []))\n        if (j.nextCursor) setCursor(j.nextCursor)\n        else setDone(true)\n      })\n      .finally(() => setLoading(false))\n  }\n  useEffect(() => { load() }, [])\n  return { items, loading, done, load }\n}\n\nconst CommunityPage = () => {\n  const [tab, setTab] = useState('For you') // For you | Following\n  const blogs = useInfiniteBlogs()\n  const { data: following } = useFetch('/api/v1/followings')\n  const { data: staff } = useFetch('/api/v1/staff-picks')\n  const sentinelRef = useRef(null)\n\n  // infinite scroll\n  useEffect(() => {\n    const el = sentinelRef.current\n    if (!el) return\n    const io = new IntersectionObserver((entries) => {\n      entries.forEach((e) => { if (e.isIntersecting) blogs.load() })\n    })\n    io.observe(el)\n    return () => io.disconnect()\n  }, [sentinelRef.current, blogs])\n\n  const followingIds = useMemo(() => new Set((following?.items || []).map((u) => u.id)), [following])\n  const visible = useMemo(() => {\n    if (tab === 'For you') return blogs.items\n    return blogs.items.filter((p) => followingIds.has(p.author?.id))\n  }, [tab, blogs.items, followingIds])\n\n  // responsive columns\n  const [width, setWidth] = useState(typeof window !== 'undefined' ? window.innerWidth : 1024)\n  useEffect(() => {\n    const onResize = () => setWidth(window.innerWidth)\n    window.addEventListener('resize', onResize)\n    return () => window.removeEventListener('resize', onResize)\n  }, [])\n  const showLeft = width >= 1024\n  const showRight = width >= 1280\n  const gridStyle = useMemo(() => {\n    if (showLeft && showRight) return { display: 'grid', gap: 24, gridTemplateColumns: '240px 1fr 320px' }\n    if (showLeft && !showRight) return { display: 'grid', gap: 24, gridTemplateColumns: '240px 1fr' }\n    return { display: 'grid', gap: 24, gridTemplateColumns: '1fr' }\n  }, [showLeft, showRight])\n\n  return (\n    <Container>\n      <Helmet>\n        <title>Community</title>\n      </Helmet>\n      <div style={gridStyle}>\n        {showLeft && (\n          <aside>\n            <Sticky>\n              <SectionCard>\n                <h4 style={{ margin: '0 0 12px 0' }}>Following</h4>\n                {following?.items?.length ? (\n                  <div style={{ maxHeight: '60vh', overflowY: 'auto', paddingRight: 4 }}>\n                    <FollowingList people={following.items} />\n                  </div>\n                ) : (\n                  <div style={{ color: '#6b7280' }}>No following.</div>\n                )}\n              </SectionCard>\n            </Sticky>\n          </aside>\n        )}\n\n        <section>\n          <Tabs tabs={[ 'For you', 'Following' ]} active={tab} onChange={setTab} />\n          <div style={{ display: 'grid', gap: 12 }}>\n            {visible.map((it) => (\n              <PostCard key={it.id} item={it} />\n            ))}\n            {!blogs.items.length && <Skeleton />}\n          </div>\n          <div ref={sentinelRef} style={{ height: 1 }} />\n        </section>\n\n        {showRight && (\n          <aside>\n            <Sticky>\n              <SectionCard>\n                <h4 style={{ marginTop: 0 }}>Staff Picks</h4>\n                <ul style={{ listStyle: 'none', padding: 0, margin: 0 }}>\n                  {staff?.items?.length ? staff.items.map((sp) => (\n                    <li key={sp.id} style={{ padding: '8px 0' }}>\n                      <Link to={`/blogs/${sp.id}`} style={{ textDecoration: 'none', color: '#111' }}>{sp.title}</Link>\n                      <div style={{ color: '#6b7280', fontSize: 13 }}>{sp.author?.name} · {sp.dateISO}</div>\n                    </li>\n                  )) : <div style={{ color: '#6b7280' }}>No staff picks.</div>}\n                </ul>\n              </SectionCard>\n            </Sticky>\n          </aside>\n        )}\n      </div>\n    </Container>\n  )\n}\n\nexport default CommunityPage\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}